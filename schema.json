{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "JMAD Curated List",
  "description": "Schema for JMAD Installer curated application list",
  "type": "object",
  "required": ["last_updated", "source", "version", "applications"],
  "properties": {
    "last_updated": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of last update"
    },
    "source": {
      "type": "string",
      "description": "Source identifier (e.g., 'official', 'community')"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version of this curated list"
    },
    "applications": {
      "type": "array",
      "description": "List of curated applications",
      "items": {
        "type": "object",
        "required": ["id", "name", "type"],
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^[a-z0-9-]+$",
            "description": "Unique identifier (kebab-case)"
          },
          "name": {
            "type": "string",
            "minLength": 1,
            "description": "Display name"
          },
          "type": {
            "type": "string",
            "enum": ["offline", "online"],
            "description": "Installation type"
          },
          "download_url": {
            "type": ["string", "null"],
            "format": "uri",
            "description": "Direct download URL (null if using GitHub API)"
          },
          "version": {
            "type": "string",
            "description": "Version number or 'latest'"
          },
          "silent_args": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Primary silent install arguments"
          },
          "fallback_args": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Fallback silent install arguments"
          },
          "launch_argument_template_id": {
            "type": ["string", "null"],
            "description": "Template ID for installer type"
          },
          "script": {
            "type": ["string", "null"],
            "description": "Custom installation script"
          },
          "uninstall_script": {
            "type": ["string", "null"],
            "description": "Custom uninstallation script"
          },
          "uninstall_command": {
            "type": ["string", "null"],
            "description": "Uninstall command"
          },
          "checksum": {
            "type": ["string", "null"],
            "description": "SHA-256 checksum for verification"
          },
          "notes": {
            "type": "string",
            "description": "Description or notes"
          },
          "include_in_build": {
            "type": "boolean",
            "description": "Whether to include in build by default"
          },
          "allow_manual_install": {
            "type": "boolean",
            "description": "Allow manual install if silent fails"
          },
          "github_owner": {
            "type": ["string", "null"],
            "description": "GitHub repository owner"
          },
          "github_repo": {
            "type": ["string", "null"],
            "description": "GitHub repository name"
          },
          "github_asset_pattern": {
            "type": ["string", "null"],
            "description": "Pattern to match GitHub release asset"
          }
        }
      }
    },
    "notes": {
      "type": "object",
      "description": "Additional metadata and notes"
    }
  }
}
